<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>io.github.nwen.another_gitworktree</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name -->
    <name>Another Git Worktree</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="n-wen@outlook.com" url="https://github.com/n-wen">wenning</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description -->
    <description><![CDATA[
        <h1>Another Git Worktree</h1>
        <p>A visual Git worktree management plugin for IntelliJ IDEA that helps you manage multiple working trees efficiently.</p>
        
        <h2>Features</h2>
        <ul>
            <li><b>Worktree List Display</b>: View all worktrees with path, branch name, commit hash, and status in a clean table interface</li>
            <li><b>Double-Click to Open</b>: Instantly open worktree directories in IDEA with smart duplicate detection</li>
            <li><b>Create Worktree</b>: Easy creation with branch selection dialog featuring real-time search and filtering</li>
            <li><b>Delete Worktree</b>: Safe deletion with confirmation dialogs, accessible via toolbar or context menu</li>
            <li><b>Branch Search</b>: Case-insensitive filtering for quick branch selection</li>
            <li><b>Smart Detection</b>: Automatically switches to already open projects instead of creating duplicates</li>
            <li><b>Context Menu</b>: Right-click support for quick access to all operations</li>
        </ul>
        
        <h2>How to Use</h2>
        <ol>
            <li>Open Version Control tool window (Alt+9 or View â†’ Tool Windows â†’ Version Control)</li>
            <li>Switch to the "Worktree" tab</li>
            <li>Manage your Git worktrees with intuitive visual interface</li>
        </ol>
        
        <h2>Perfect For</h2>
        <p>Developers who work with multiple branches simultaneously, need to switch between feature branches quickly, 
        or maintain separate working directories for different tasks.</p>
        
        <p>For more information, documentation, and source code, visit the 
        <a href="https://github.com/n-wen/another_gitworktree">GitHub repository</a>.</p>
    ]]></description>
    
    <!-- Change notes displayed in the IDE and on the plugin page -->
    <change-notes><![CDATA[
        <h2>Version 1.0.5</h2>
        <ul>
            <li>âœ¨ Improved: Enhanced branch selection logic for remote branches</li>
            <li>ğŸ”„ Optimized: Removed unnecessary remote branch checks in branch validation</li>
            <li>ğŸ§¹ Cleaned: Removed special characters (*, +) from branch names</li>
            <li>ğŸ“ Simplified: Branch handling in worktree creation process</li>
            <li>ğŸ¯ Enhanced: User experience when selecting remote branches</li>
        </ul>
        
        <h2>Version 1.0.4</h2>
        <ul>
            <li>ğŸ”§ Improved: Enhanced refresh mechanism for better Git repository detection</li>
            <li>ğŸ› Fixed: Removed unused isBackgroundRefresh parameter</li>
            <li>ğŸ”„ Updated: Code cleanup and optimization</li>
        </ul>
        
        <h2>Version 1.0.3</h2>
        <ul>
            <li>ğŸ¨ New: Custom plugin icon designed specifically for Git worktree concept</li>
            <li>ğŸ¨ Improved: Added dark theme support for plugin icon</li>
        </ul>
        
        <h2>Version 1.0.2</h2>
        <ul>
            <li>âœ¨ New: Extended compatibility to IDEA 2023.3+ (no upper limit)</li>
            <li>ğŸ›¡ï¸ Fixed: Main worktree can no longer be deleted (button disabled, menu item disabled)</li>
            <li>ğŸ”„ Improved: Auto-close open projects before deleting their worktree</li>
            <li>ğŸ“ Enhanced: Better handling of locked directories during deletion</li>
            <li>âš ï¸ Better: More informative error messages for worktree operations</li>
            <li>ğŸ¯ Fixed: Worktree list now loads automatically on first open (no manual refresh needed)</li>
        </ul>
        
        <h2>Version 1.0.1</h2>
        <ul>
            <li>ğŸ› Fixed: Changed all UI text to English for international users</li>
            <li>ğŸ¨ Improved: Standardized language across the entire interface</li>
        </ul>
        
        <h2>Version 1.0.0</h2>
        <ul>
            <li><b>Initial Release</b></li>
            <li>âœ¨ Worktree list display with detailed information (path, branch, commit, status)</li>
            <li>âœ¨ Double-click to open worktree directories in IDEA</li>
            <li>âœ¨ Create worktree with branch selection and smart path suggestions</li>
            <li>âœ¨ Delete worktree with confirmation dialogs</li>
            <li>âœ¨ Real-time branch search and filtering</li>
            <li>âœ¨ Context menu support for quick operations</li>
            <li>âœ¨ Smart project detection to avoid duplicate windows</li>
            <li>ğŸ› Thread-safe operations (EDT and background threads)</li>
            <li>ğŸ¨ Clean and intuitive user interface</li>
        </ul>
    ]]></change-notes>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
    </extensions>

    <!-- æš‚æ—¶ç§»é™¤ actionsï¼Œå› ä¸º tab è®¾ç½®ä¸ºä¸å¯å…³é—­ï¼Œä¸éœ€è¦é‡æ–°æ‰“å¼€åŠŸèƒ½ -->
    <!--
    <actions>
        <action id="io.github.nwen.another_gitworktree.OpenWorktreeTab"
                class="io.github.nwen.another_gitworktree.OpenWorktreeTabAction"
                text="Git Worktree"
                description="æ‰“å¼€ Git Worktree é¢æ¿"
                icon="AllIcons.Vcs.Branch">
            <add-to-group group-id="ToolWindowsGroup" anchor="last"/>
        </action>
    </actions>
    -->

    <projectListeners>
        <listener class="io.github.nwen.another_gitworktree.WorktreeTabInstaller"
                  topic="com.intellij.openapi.project.ProjectManagerListener"/>
    </projectListeners>
</idea-plugin>